# pmbd2025_2sem <br>
## [./00_guia_rapido](https://github.com/IgorAvilaPereira/pmbd2025_2sem/tree/main/./00_guia_rapido) <br>
[dicas.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./00_guia_rapido/dicas.md) <br>
[setup.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./00_guia_rapido/setup.md) <br>
[videos.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./00_guia_rapido/videos.md) <br>
## [./01_introducao_er](https://github.com/IgorAvilaPereira/pmbd2025_2sem/tree/main/./01_introducao_er) <br>
[entidade-associativa.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./01_introducao_er/entidade-associativa.md) <br>
[entidade-fraca.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./01_introducao_er/entidade-fraca.md) <br>
[etapas.png](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./01_introducao_er/etapas.png) <br>
[exemplo.dia](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./01_introducao_er/exemplo.dia) <br>
[introducao_banco_de_dados.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./01_introducao_er/introducao_banco_de_dados.md) <br>
[introducao-er.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./01_introducao_er/introducao-er.md) <br>
[introducao-er.pdf](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./01_introducao_er/introducao-er.pdf) <br>
[mapamental.png](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./01_introducao_er/mapamental.png) <br>


[Baixar todo o material da aula](https://download-directory.github.io/?url=http://github.com/IgorAvilaPereira/pmbd2025_1sem/tree/main/./01_introducao_er)
[relacionamentos-er.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./01_introducao_er/relacionamentos-er.md) <br>
[setup.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./01_introducao_er/setup.md) <br>
[imagens](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./01_introducao_er/imagens) <br>
## [./02_exercicios_er](https://github.com/IgorAvilaPereira/pmbd2025_2sem/tree/main/./02_exercicios_er) <br>
[clinica_veterinaria.dia](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./02_exercicios_er/clinica_veterinaria.dia) <br>
[etapas.png](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./02_exercicios_er/etapas.png) <br>
[lista_er.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./02_exercicios_er/lista_er.md) <br>
[mapamental.png](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./02_exercicios_er/mapamental.png) <br>
### Sistema Acadêmico

Descrição: Uma escola quer organizar alunos, professores, turmas e disciplinas.

Requisitos: 

* Professores ministram disciplinas.

* Alunos se matriculam em turmas.

* Cada disciplina pertence a uma turma.

* Guardar notas e frequência por aluno em cada disciplina.

Desafios:

* Identifique relacionamentos N:N (aluno x disciplina).

* Crie atributos multivalorados (ex: telefone do aluno).

### Clínica Veterinária

Descrição:

* A clínica precisa armazenar informações de clientes, animais e consultas.

Requisitos:

* Cada cliente pode ter vários animais.

* Cada animal pertence a uma espécie (cachorro, gato, etc).

* As consultas têm data, veterinário responsável e observações.

Desafios:

* Modele herança se quiser usar subclasses para espécies.

* Relacione animal com cliente e com consulta.

<br><br>[Baixar todo o material da aula](https://download-directory.github.io/?url=http://github.com/IgorAvilaPereira/pmbd2025_2sem/tree/main/02_exercicios_er) <br><br>
&nbsp;
[relacionamentos-er.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./02_exercicios_er/relacionamentos-er.md) <br>
[imagens](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./02_exercicios_er/imagens) <br>
## [./03_formatura](https://github.com/IgorAvilaPereira/pmbd2025_2sem/tree/main/./03_formatura) <br>
<br><br>[Baixar todo o material da aula](https://download-directory.github.io/?url=http://github.com/IgorAvilaPereira/pmbd2025_2sem/tree/main/03_formatura) <br><br>
&nbsp;
## [./04_exercicios](https://github.com/IgorAvilaPereira/pmbd2025_2sem/tree/main/./04_exercicios) <br>
[administradora_imoveis.dia](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./04_exercicios/administradora_imoveis.dia) <br>
[entidade-associativa.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./04_exercicios/entidade-associativa.md) <br>
[entidade-fraca.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./04_exercicios/entidade-fraca.md) <br>
* Entidade Fraca e continuação Lista ER

**Opcional:**

* Entidade Associativa


**Material Complementar:**

* [Video - Recapitulação + Entidade Fraca + Generalização/Especialização](https://www.youtube.com/watch?v=WuOItyxbKQc)



[Baixar todo o material da aula](https://download-directory.github.io/?url=http://github.com/IgorAvilaPereira/pmbd2025_2sem/tree/main/./04_exercicios)
[sistema_academico.dia](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./04_exercicios/sistema_academico.dia) <br>
[imagens](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./04_exercicios/imagens) <br>
## [./05_modelagem_logica](https://github.com/IgorAvilaPereira/pmbd2025_2sem/tree/main/./05_modelagem_logica) <br>
[conversao-entre-modelos-er-e-relacional.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./05_modelagem_logica/conversao-entre-modelos-er-e-relacional.md) <br>
[dicionario-de-dados.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./05_modelagem_logica/dicionario-de-dados.md) <br>
[modelo-relacional.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./05_modelagem_logica/modelo-relacional.md) <br>
[periodico_modelo_relacional.dia](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./05_modelagem_logica/periodico_modelo_relacional.dia) <br>
[periodico_modelo_relacional.png](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./05_modelagem_logica/periodico_modelo_relacional.png) <br>
[principais-tiposdedados-postgresql.png](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./05_modelagem_logica/principais-tiposdedados-postgresql.png) <br>
<!--
Modelagem Lógica (Modelo Relacional)

[Modelagem Conceitual (ER) + Modelagem Lógica (Modelo Relacional Incompleto) da Universidade](https://github.com/IgorAvilaPereira/pmbd2024_2sem/blob/main/universidade.dia)

[Implementação Física Incompleta - Universidade (script.sql)](https://github.com/IgorAvilaPereira/pmbd2024_2sem/blob/main/sql.sql)

[Lista 1](https://github.com/IgorAvilaPereira/pmbd2024_2sem/wiki/Listas#lista-er)

**Conversão - ER para Modelo Relacional**

* [Slides](https://github.com/IgorAvilaPereira/pmbd2024_2sem/raw/main/transformacao-er-modelo-relacional.pdf)

* [Principais Tipos de Dados - PostgreSQL](https://github.com/IgorAvilaPereira/pmbd2024_2sem/blob/main/principais-tiposdedados-postgresql.png)

-->

[Vídeo da Aula](https://www.youtube.com/watch?v=o7b207X2Pf0)

[Vídeos](https://youtube.com/playlist?list=PLvT8P1q6jMWdCXVwsdO3UAPAn743vHccK)


<!--[Dicionário de Dados](https://github.com/IgorAvilaPereira/pmbd2023_1sem/blob/main/10dicionario-de-dados.md)-->

<!--
**Leitura Complementar:**

* [Introdução a Modelagem Lógica - Modelo Relacional](modelo-relacional.md)

* [Conversão - DER para Modelo Relacional (_em texto_)](https://github.com/IgorAvilaPereira/pmbd2024_2sem/blob/main/8conversao-entre-modelos-er-e-relacional.md)

-->

<!--
[Conversão - DER para Modelo Relacional (Herança)](https://github.com/IgorAvilaPereira/pmbd2023_1sem/blob/main/9conversao-entre-modelos-er-e-relacional-heranca.md)
-->

<!--
**Resumo (usar com cautela):**

* Entidades Forte, Fraca e Associativa tornam-se, com grande frequência, tabelas.
* Atributos identificadores tornam-se chaves primárias.
* Relacionamentos _1:n_ exigem a criação de uma coluna adicional na tabela referente ao _n_ do relacionamento, denominada de chave estrangeira.
* Relacionamentos com atributos, geralmente, fazem com que estes relacionamentos sejam mapeados como tabelas.
* Relacionamentos _n:m_ (muitos para muitos) devem ser quebrados em 2 relacionamentos _1:n_ e exigem a criação de uma tabela intermediária 
* Atributos multivalores tornam-se tabelas.
* Atributos compostos podem se transformar em 1) colunas (o que a literatura diz) ou em uma 2) nova tabela + um relacionamento _1:n_ com a tabela resultante da entidade que, anteriormente, tinha o atributo composto (solução prática que permite mais uma instância do atributo composto).
* Especialização/Generalização podem gerar (1) uma única tabela, (2) uma tabela para cada entidade filha ou (3) uma tabela para cada entidade.
-->


[Baixar todo o material da aula](https://download-directory.github.io/?url=http://github.com/IgorAvilaPereira/pmbd2025_2sem/tree/main/./05_modelagem_logica)
[transformacao-er-modelo-relacional.pdf](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./05_modelagem_logica/transformacao-er-modelo-relacional.pdf) <br>
[exemplos](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./05_modelagem_logica/exemplos) <br>
[imagens](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./05_modelagem_logica/imagens) <br>
## [./06_modelagem_logica](https://github.com/IgorAvilaPereira/pmbd2025_2sem/tree/main/./06_modelagem_logica) <br>
[ARTIGO.dia](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./06_modelagem_logica/ARTIGO.dia) <br>
**Resumo (usar com cautela):**

* Entidades Forte, Fraca e Associativa tornam-se, com grande frequência, tabelas.
* Atributos identificadores tornam-se chaves primárias.
* Relacionamentos _1:n_ exigem a criação de uma coluna adicional na tabela referente ao _n_ do relacionamento, denominada de chave estrangeira.
* Relacionamentos com atributos, geralmente, fazem com que estes relacionamentos sejam mapeados como tabelas.
* Relacionamentos _n:m_ (muitos para muitos) devem ser quebrados em 2 relacionamentos _1:n_ e exigem a criação de uma tabela intermediária
* Atributos multivalores tornam-se tabelas.
* Atributos compostos podem se transformar em 1) colunas (o que a literatura diz) ou em uma 2) nova tabela + um relacionamento _1:n_ com a tabela>
* Especialização/Generalização podem gerar (1) uma única tabela, (2) uma tabela para cada entidade filha ou (3) uma tabela para cada entidade.


<br><br>[Baixar todo o material da aula](https://download-directory.github.io/?url=http://github.com/IgorAvilaPereira/pmbd2025_2sem/tree/main/06_modelagem_logica) <br><br>
&nbsp;
[trabalho1.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./06_modelagem_logica/trabalho1.md) <br>
## [./07_modelagem_logica](https://github.com/IgorAvilaPereira/pmbd2025_2sem/tree/main/./07_modelagem_logica) <br>

* **Generalização**: pegar várias entidades semelhantes e criar uma entidade mais geral.
  Ex.: *Professor* e *Aluno* → **Pessoa**.
* **Especialização**: o oposto, pegar uma entidade e dividi-la em subclasses.
  Ex.: *Pessoa* → **Aluno** e **Professor**.

---

### 🔹 Regras de mapeamento (para o modelo relacional)

Existem **três estratégias principais** (cada uma usada conforme o caso):

#### 1. **Tabela única para cada entidade (generalização total)**

* Cria-se uma **tabela para a entidade genérica** (*Pessoa*).
* Cria-se também **tabelas para cada especialização** (*Aluno*, *Professor*).
* As tabelas filhas usam a **mesma PK da tabela pai** como **PK e FK**.

**Exemplo:**

```sql
Pessoa(cod_pessoa PK, nome, cpf)
Aluno(cod_pessoa PK, curso,
      FOREIGN KEY (cod_pessoa) REFERENCES Pessoa)
Professor(cod_pessoa PK, salario,
          FOREIGN KEY (cod_pessoa) REFERENCES Pessoa)
```

---

#### 2. **Uma única tabela para toda a hierarquia (generalização parcial)**

* Cria-se **apenas uma tabela** que contém atributos de todas as subclasses.
* Usa-se um **atributo discriminador** para indicar o tipo.

**Exemplo:**

```sql
Pessoa(cod_pessoa PK, nome, cpf,
       tipo,  -- 'A' para aluno, 'P' para professor
       curso, -- só usado se tipo = 'A'
       salario) -- só usado se tipo = 'P'
```

---

#### 3. **Uma tabela apenas para as subclasses**

* Não se cria tabela para a entidade genérica, só para as especializações.
* Os atributos comuns da entidade geral são **repetidos** em cada tabela filha.

**Exemplo:**

```sql
Aluno(cod_aluno PK, nome, cpf, curso)
Professor(cod_prof PK, nome, cpf, salario)
```

---

### 🔹 Qual estratégia usar?

* **1ª (tabela genérica + filhas)** → mais fiel ao MER, boa para normalização.
* **2ª (tabela única)** → mais simples, evita joins, mas pode gerar muitos nulos.
* **3ª (só filhas)** → útil quando subclasses são **disjuntas** e não há instâncias diretas da entidade genérica.

---

✅ **Resumo:**

<!--
* Associativa (M:N) → nova tabela.
* Fraca → tabela dependente com PK composta.
* Multivalorado → nova tabela.
* Composto → decompõe em atributos simples.
-->
* Especialização/Generalização → três estratégias (tabelas separadas, única, ou só subclasses).

<br><br>[Baixar todo o material da aula](https://download-directory.github.io/?url=http://github.com/IgorAvilaPereira/pmbd2025_2sem/tree/main/07_modelagem_logica) <br><br>
&nbsp;
## [./08_modelagem_logica](https://github.com/IgorAvilaPereira/pmbd2025_2sem/tree/main/./08_modelagem_logica) <br>
[conversao-entre-modelos-er-e-relacional.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./08_modelagem_logica/conversao-entre-modelos-er-e-relacional.md) <br>
[dicas.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./08_modelagem_logica/dicas.md) <br>
[dicionario-de-dados.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./08_modelagem_logica/dicionario-de-dados.md) <br>
[exemplo-transformacao-er-relacional-entidade-fraca.dia](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./08_modelagem_logica/exemplo-transformacao-er-relacional-entidade-fraca.dia) <br>
[exemplo-transformacao-er-relacional-heranca.dia](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./08_modelagem_logica/exemplo-transformacao-er-relacional-heranca.dia) <br>
[modelo-relacional.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./08_modelagem_logica/modelo-relacional.md) <br>
[normalizacao.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./08_modelagem_logica/normalizacao.md) <br>
[normalizacao_resumo.md](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./08_modelagem_logica/normalizacao_resumo.md) <br>
[principais-tiposdedados-postgresql.png](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./08_modelagem_logica/principais-tiposdedados-postgresql.png) <br>
[psql.pdf](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./08_modelagem_logica/psql.pdf) <br>
### Regras de Normalização

1. **1ª Forma Normal (1FN):** Eliminar grupos repetitivos e garantir que cada campo contenha um único valor
2. **2ª Forma Normal (2FN):** Estar na 1FN e todos os atributos não-chave devem depender totalmente da chave primária
3. **3ª Forma Normal (3FN):** Estar na 2FN e não ter dependências transitivas

### 🔹 1. Atributo Multivalorado

É quando uma entidade pode ter **mais de um valor** para o mesmo atributo.
Exemplo: uma pessoa pode ter **vários telefones**.

👉 **Regra de mapeamento**:

* Criar **uma nova tabela** para representar o atributo multivalorado.
* Essa nova tabela terá:

  * A **PK da entidade original** como **FK**.
  * O atributo multivalorado em si.
  * Como **PK**: a combinação da **FK + o próprio atributo** (ou incluir um identificador se precisar).

**Exemplo:**

* `Pessoa(cod_pessoa, nome, {telefone})`

➡ Modelo relacional:

```sql
Pessoa(cod_pessoa PK, nome)

TelefonePessoa(cod_pessoa PK, telefone PK,
               FOREIGN KEY (cod_pessoa) REFERENCES Pessoa)
```

---

### 🔹 2. Atributo Composto

É um atributo que pode ser decomposto em partes menores.
Exemplo: `endereço` pode ter **rua, número, cidade, CEP**.

👉 **Regra de mapeamento**:

* **Desmembrar** o atributo em seus componentes atômicos (não criar uma nova tabela).
* Apenas os atributos básicos vão para o modelo relacional.

**Exemplo:**

* `Cliente(cod_cliente, nome, endereço(rua, numero, cidade, cep))`

➡ Modelo relacional:

```sql
Cliente(cod_cliente PK, nome, rua, numero, cidade, cep)
```

---

✅ **Resumo geral do mapeamento:**


* **Atributo multivalorado** → vira tabela separada.
* **Atributo composto** → decompõe em atributos simples na mesma tabela.
[transformacao-er-modelo-relacional.pdf](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./08_modelagem_logica/transformacao-er-modelo-relacional.pdf) <br>
[imagens](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./08_modelagem_logica/imagens) <br>
[regras_mapeamento](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./08_modelagem_logica/regras_mapeamento) <br>
[slides_normalizacao](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./08_modelagem_logica/slides_normalizacao) <br>
## [./09_modelagem_logica](https://github.com/IgorAvilaPereira/pmbd2025_2sem/tree/main/./09_modelagem_logica) <br>
[exemplo.dia](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./09_modelagem_logica/exemplo.dia) <br>
[igor_amazon.sql](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./09_modelagem_logica/igor_amazon.sql) <br>
### 🔹 1. Entidade Associativa

Uma **entidade associativa** (também chamada de entidade de relacionamento) surge quando você tem um relacionamento **M:N** entre duas entidades fortes e precisa transformá-lo em uma tabela.

👉 **Regra de mapeamento**:

* Crie uma **nova tabela** correspondente ao relacionamento.
* Essa tabela terá como **chaves primárias** as **chaves estrangeiras** vindas das entidades participantes.
* Caso o relacionamento possua **atributos próprios**, eles também entram nessa nova tabela.

**Exemplo:**

* Entidades: `Aluno(cod_aluno, nome)` e `Disciplina(cod_disciplina, nome)`.
* Relacionamento M:N: **Matrícula(data, nota)**.

➡ Modelo relacional:

```sql
Aluno(cod_aluno PK, nome)
Disciplina(cod_disciplina PK, nome)
Matricula(cod_aluno PK, cod_disciplina PK, data, nota,
          FOREIGN KEY (cod_aluno) REFERENCES Aluno,
          FOREIGN KEY (cod_disciplina) REFERENCES Disciplina)
```

---

### 🔹 2. Entidade Fraca

Uma **entidade fraca** depende de uma entidade forte para existir.
Ela **não tem chave primária própria**, sua identificação vem de:

* Um **identificador parcial** (um atributo interno, como número de série, sequência, etc.)
* * a **chave primária da entidade forte** da qual depende.

👉 **Regra de mapeamento**:

* Crie uma tabela para a entidade fraca.
* Sua **PK** será a combinação da **PK da entidade forte + identificador parcial**.
* Inclua também uma **FK** para a entidade forte.
* Se houver atributos adicionais, eles entram normalmente.

**Exemplo:**

* Entidade forte: `Departamento(cod_depto, nome)`.
* Entidade fraca: `ProjetoInterno(num_proj, descrição)` (depende de Departamento).

➡ Modelo relacional:

```sql
Departamento(cod_depto PK, nome)
ProjetoInterno(cod_depto PK, num_proj PK, descricao,
               FOREIGN KEY (cod_depto) REFERENCES Departamento)
```

---

✅ Resumindo:

* **Entidade associativa (M:N)** → vira uma **nova tabela**, com as PKs dos lados + atributos próprios.
* **Entidade fraca** → vira uma **tabela dependente**, cuja PK é a FK da forte + identificador parcial.

* Auto-relacionamento

<br><br>[Baixar todo o material da aula](https://download-directory.github.io/?url=http://github.com/IgorAvilaPereira/pmbd2025_2sem/tree/main/09_modelagem_logica) <br><br>

&nbsp;
[conexao](https://github.com/IgorAvilaPereira/pmbd2025_2sem/blob/main/./09_modelagem_logica/conexao) <br>
